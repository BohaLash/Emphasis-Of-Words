<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <title>
        Наголоси
    </title>
</head>

<body>
    <h1>Наголоси</h1>
    <h2 id="alert">Привіт!</h2>
    <button onclick="inputWords()">Нові слова</button>
    <div id="word" style="font-size: 10em;">
        <span>W</span>
        <span>O</span>
        <span>R</span>
        <span>D</span>
    </div>
    <script type="text/javascript">
        var div = document.getElementById('word')
        var h2 = document.getElementById('alert')
        var word_set = ['привІт', 'богдАн', 'МОва']
        var greeting = ['Так тримати!', 'Супер!', 'Клас!']
        var support = ['Спробуй ще раз!', 'Будь уважнішим!', 'Помилка :(']
        var word = ''

        function inputWords() {
            word_set = window.prompt("Нові слова", word_set.join(' ')).split(' ')
        }

        function handleWord(b) {
            str.split('').forEach((c, i) => {

            })
        }

        function handleLetter(span) {
            if (span.innerHTML == word[span.id]) {
                span.style.color = 'red'
                _alert(false)
            } else {
                _alert(true)
                setWord(word_set[Math.floor(Math.random() * Math.floor(word_set.length))])
            }
        }

        function _alert(b) {
            h2.innerHTML = b
                ? greeting[Math.floor(Math.random() * Math.floor(greeting.length))]
                : support[Math.floor(Math.random() * Math.floor(support.length))]
            h2.style.color = b ? 'green' : 'red'
        }

        function setWord(str) {
            let res = ''
            word = str
            str.split('').forEach((c, i) => { res += `<span id="${i}" onclick="handleLetter(this)">${c.toLowerCase()}</span>` })
            div.innerHTML = res
        }

        setWord(word_set[Math.floor(Math.random() * Math.floor(word_set.length))])

    </script>
    <!-- <script src="main.js"></script> -->
</body>

</html>